# Production configuration for USDS eCFR Analysis Tool
server.port=8080
server.servlet.context-path=/api

# Database configuration for production
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://usds-postgres:5432/ecfr_analysis}
spring.datasource.username=${POSTGRES_USER:usds_user}
spring.datasource.password=${POSTGRES_PASSWORD:secure_password_change_me}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=false

# Redis configuration for caching
spring.redis.host=${REDIS_HOST:usds-redis}
spring.redis.port=${REDIS_PORT:6379}
spring.redis.password=${REDIS_PASSWORD:redis_password_change_me}
spring.redis.timeout=2000ms

# Actuator endpoints for monitoring
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when-authorized
management.metrics.export.prometheus.enabled=true

# Logging configuration
logging.level.gov.usds.ecfr=INFO
logging.level.org.springframework.web=WARN
logging.level.org.hibernate=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.file.name=/var/log/usds-ecfr-analysis.log

# Security configuration
server.error.include-stacktrace=never
server.error.include-message=always

# CORS configuration for production
cors.allowed-origins=${CORS_ORIGINS:https://ecfr-analysis.usds.gov,https://www.ecfr.gov}
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=*
cors.allow-credentials=true

# Analysis service configuration
ecfr.analysis.timeout=${ANALYSIS_TIMEOUT:45000}
ecfr.analysis.user-agent=USDS-eCFR-Analyzer/1.0 (Government Website Compliance Tool)
ecfr.analysis.max-retries=${MAX_RETRIES:3}
ecfr.analysis.cache-ttl=${CACHE_TTL:3600}

# Rate limiting
ecfr.rate-limit.enabled=true
ecfr.rate-limit.requests-per-minute=${RATE_LIMIT:30}

# Government compliance settings
ecfr.compliance.section508.enabled=true
ecfr.compliance.wcag.level=AA
ecfr.compliance.foia.required=true
ecfr.compliance.privacy-policy.required=true

# SSL/TLS configuration
server.ssl.enabled=${SSL_ENABLED:false}
server.ssl.key-store=${SSL_KEYSTORE:}
server.ssl.key-store-password=${SSL_KEYSTORE_PASSWORD:}
server.ssl.key-store-type=PKCS12

# Application metadata
info.app.name=USDS eCFR Site Analysis Tool
info.app.description=Government Website Accessibility and Compliance Analyzer
info.app.version=@project.version@
info.app.encoding=@project.build.sourceEncoding@
info.app.java.version=@java.version@